{"ast":null,"code":"import _regeneratorRuntime from\"/home/suren/Documents/webpoint-project/e-commercesite/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/home/suren/Documents/webpoint-project/e-commercesite/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/home/suren/Documents/webpoint-project/e-commercesite/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import firebase from\"firebase/app\";import\"firebase/firestore\";import\"firebase/auth\";var config={apiKey:\"AIzaSyCtdms2LlB9Bzw4TbDJCELBhbihY0q3hO4\",authDomain:\"e-commercedb-37abd.firebaseapp.com\",projectId:\"e-commercedb-37abd\",storageBucket:\"e-commercedb-37abd.appspot.com\",messagingSenderId:\"318436943877\",appId:\"1:318436943877:web:1ccee888bb2ba8ea34d46c\",measurementId:\"G-06D6KKXRMR\"};export var createUserProfileDocument=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(userAuth,additionalData){var userRef,snapShot,displayName,email,createdDate;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(userAuth){_context.next=2;break;}return _context.abrupt(\"return\");case 2:userRef=firestore.doc(\"users/\".concat(userAuth.uid));_context.next=5;return userRef.get();case 5:snapShot=_context.sent;if(!snapShot.exists){displayName=userAuth.displayName,email=userAuth.email;createdDate=new Date();try{userRef.set(_objectSpread({displayName:displayName,email:email,createdDate:createdDate},additionalData));}catch(error){console.log(error);}}return _context.abrupt(\"return\",userRef);case 8:case\"end\":return _context.stop();}}},_callee);}));return function createUserProfileDocument(_x,_x2){return _ref.apply(this,arguments);};}();firebase.initializeApp(config);export var auth=firebase.auth();export var firestore=firebase.firestore();var provider=new firebase.auth.GoogleAuthProvider();provider.setCustomParameters({promt:\"select_account\"});export var signInWithGoogle=function signInWithGoogle(){return auth.signInWithPopup(provider);};export default firebase;","map":{"version":3,"sources":["/home/suren/Documents/webpoint-project/e-commercesite/client/src/firebase/firebase.utils.js"],"names":["firebase","config","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","createUserProfileDocument","userAuth","additionalData","userRef","firestore","doc","uid","get","snapShot","exists","displayName","email","createdDate","Date","set","error","console","log","initializeApp","auth","provider","GoogleAuthProvider","setCustomParameters","promt","signInWithGoogle","signInWithPopup"],"mappings":"qhBAAA,MAAOA,CAAAA,QAAP,KAAqB,cAArB,CACA,MAAO,oBAAP,CACA,MAAO,eAAP,CAKA,GAAMC,CAAAA,MAAM,CAAC,CACTC,MAAM,CAAE,yCADC,CAETC,UAAU,CAAE,oCAFH,CAGTC,SAAS,CAAE,oBAHF,CAITC,aAAa,CAAE,gCAJN,CAKTC,iBAAiB,CAAE,cALV,CAMTC,KAAK,CAAE,2CANE,CAOTC,aAAa,CAAE,cAPN,CAAb,CAUA,MAAO,IAAMC,CAAAA,yBAAyB,0FAAC,iBAAMC,QAAN,CAAeC,cAAf,wKAC/BD,QAD+B,iEAG7BE,OAH6B,CAGrBC,SAAS,CAACC,GAAV,iBAAuBJ,QAAQ,CAACK,GAAhC,EAHqB,uBAKdH,CAAAA,OAAO,CAACI,GAAR,EALc,QAK7BC,QAL6B,eAOnC,GAAG,CAACA,QAAQ,CAACC,MAAb,CAAoB,CACTC,WADS,CACUT,QADV,CACTS,WADS,CACGC,KADH,CACUV,QADV,CACGU,KADH,CAEVC,WAFU,CAEE,GAAIC,CAAAA,IAAJ,EAFF,CAIhB,GAAG,CACCV,OAAO,CAACW,GAAR,gBACIJ,WAAW,CAAXA,WADJ,CAEIC,KAAK,CAALA,KAFJ,CAGIC,WAAW,CAAXA,WAHJ,EAIOV,cAJP,GAOH,OAAMa,KAAN,CAAY,CACTC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACH,CAEJ,CAvBkC,gCAwB5BZ,OAxB4B,wDAAD,kBAAzBH,CAAAA,yBAAyB,gDAA/B,CA2BPT,QAAQ,CAAC2B,aAAT,CAAuB1B,MAAvB,EAGA,MAAO,IAAM2B,CAAAA,IAAI,CAAC5B,QAAQ,CAAC4B,IAAT,EAAX,CACP,MAAO,IAAMf,CAAAA,SAAS,CAACb,QAAQ,CAACa,SAAT,EAAhB,CAEP,GAAMgB,CAAAA,QAAQ,CAAC,GAAI7B,CAAAA,QAAQ,CAAC4B,IAAT,CAAcE,kBAAlB,EAAf,CACAD,QAAQ,CAACE,mBAAT,CAA6B,CAACC,KAAK,CAAC,gBAAP,CAA7B,EACA,MAAO,IAAMC,CAAAA,gBAAgB,CAAC,QAAjBA,CAAAA,gBAAiB,SAAIL,CAAAA,IAAI,CAACM,eAAL,CAAqBL,QAArB,CAAJ,EAAvB,CAEP,cAAe7B,CAAAA,QAAf","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\n\n\n\n\nconst config={\n    apiKey: \"AIzaSyCtdms2LlB9Bzw4TbDJCELBhbihY0q3hO4\",\n    authDomain: \"e-commercedb-37abd.firebaseapp.com\",\n    projectId: \"e-commercedb-37abd\",\n    storageBucket: \"e-commercedb-37abd.appspot.com\",\n    messagingSenderId: \"318436943877\",\n    appId: \"1:318436943877:web:1ccee888bb2ba8ea34d46c\",\n    measurementId: \"G-06D6KKXRMR\"\n}\n\nexport const createUserProfileDocument=async(userAuth,additionalData)=>{\n    if(!userAuth) return;\n\n    const userRef=firestore.doc(`users/${userAuth.uid}`);\n\n    const snapShot=await userRef.get();\n\n    if(!snapShot.exists){\n        const {displayName,email}=userAuth;\n        const createdDate=new Date();\n\n        try{\n            userRef.set({\n                displayName,\n                email,\n                createdDate,\n                ...additionalData\n            })\n\n        }catch(error){\n            console.log(error);\n        }\n\n    }\n    return userRef;\n}\n\nfirebase.initializeApp(config);\n\n\nexport const auth=firebase.auth();\nexport const firestore=firebase.firestore();\n\nconst provider=new firebase.auth.GoogleAuthProvider();\nprovider.setCustomParameters({promt:\"select_account\"});\nexport const signInWithGoogle=()=>auth.signInWithPopup(provider);\n\nexport default firebase;"]},"metadata":{},"sourceType":"module"}